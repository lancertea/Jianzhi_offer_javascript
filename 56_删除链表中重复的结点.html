<!-- author:lancer
     date:2019/12/26 -->
     <!DOCTYPE html>
     <html>
     <head>
     <meta charset="utf-8">
     <title>剑指offer-56.删除链表中重复的结点</title>
     <script>

function ListNode(x){
     this.val = x;
     this.next = null;
    }


//测试用例：
let list = new ListNode(1); 
let a = new ListNode(2);
list.next = a;
let b = new ListNode(3);
a.next = b;
let c = new ListNode(3); 
b.next = c; 
let d = new ListNode(4); 
c.next = d; 
let e = new ListNode(5); 
d.next = e;


let list1 = new ListNode(1); 
let a1 = new ListNode(1);
list1.next = a1;
let b1 = new ListNode(2);
a1.next = b1;
let c1 = new ListNode(3); 
b1.next = c1;

let list2 = new ListNode(1); 
let a2 = new ListNode(1);
list2.next = a2;
let b2 = new ListNode(2);
a2.next = b2;
let c2 = new ListNode(2); 
b2.next = c2;

console.log(deleteDuplication(list));
console.log(deleteDuplication(list1));
console.log(deleteDuplication(list2));
//console.log(EntryNodeOfLoop1(list1));

//解法1：不能删除[1,1,2,2]的情况
function deleteDuplication1(pHead)
{
  if(pHead==null)
  return null;
  if(pHead.next==null)
  return pHead;
  let p=0,p1=pHead,p2=pHead.next;
  while(p2!=null)
  {
      if(p1.val!=p2.val)
      {
          p=p1;
          p1=p1.next;
          p2=p2.next;
      }
      else if((p1.val==p2.val)&&(p1==pHead))
      {
        p1=p2.next;
        p2=p1.next;
        pHead=p1;
      }
      else if(p1.val==p2.val)
      {
          p1=p2.next;
          p2=p1.next;
          p.next=p1;
      }

  }
  return pHead;
}


//解法2：
function deleteDuplication(pHead)
{
  if(pHead==null||pHead.next==null)
  return pHead;
  let Head = new ListNode(0);
  Head.next=pHead;
  let pre=Head,last=Head.next;
  while(last!=null)
  {
      if(last.next!=null&&last.val==last.next.val)
      {
          while(last.next!=null&&last.val==last.next.val)
          {
              last=last.next;
          }
          pre.next=last.next;
          last=last.next;          
      }
      else
      {
          pre=pre.next;
          last=last.next;
      }
  }
  return Head.next;  
}

     </script>
     </head>
     
     <body>
     <!-- 
     题目描述：
    在一个排序的链表中，存在重复的结点，请删除该链表中重复的结点，重复的结点不保留，返回链表头指针。 例如，链表1->2->3->3->4->4->5 处理后为 1->2->5

    还有一种考法是重复的结点保留一个该怎么做呢？
    -->
</body> 
     
</html>