<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>剑指offer-34.第一个只出现一次的字符位置</title>
    <script>
        //测试用例：
        let s1 = 'aabcde';
        let s2 = 'aabbcc';
        let s3 = 'cqeacqa';
        console.log(FirstNotRepeatingChar(s1));
        console.log(FirstNotRepeatingChar(s2));
        console.log(FirstNotRepeatingChar(s3));


        //解法1：哈希表
        function FirstNotRepeatingChar(str) {
            let m = new Map();
            for (let val of str) {
                m.set(val, (m.get(val) || 0) + 1);
            }
            for (let [key, val] of m.entries()) {
                if (val === 1) {
                    return key;
                }
            }
            return ' ';
        }

        //解法2: 有序哈希表
        function FirstNotRepeatingChar1(s) {
            if (!s) {
                return ' ';
            }
            if (s.length === 1) {
                return s;
            }
            let m = new Map();
            for (let val of s) {
                m.set(val, !m.has(val));
            }
            for (let [k, v] of m.entries()) {
                if (v) {
                    return k;
                }
            }
            return ' ';
        }

        //解法2：string自带的方法
        function FirstNotRepeatingChar2(str) {

            let count = -1;
            for (let i = 0; i < str.length; i++) {
                if (str.indexOf(str.charAt(i)) == i && str.lastIndexOf(str.charAt(i)) == i) {
                    count = i;
                    break;
                }
            }
            return count;
        }

        function FirstNotRepeatingChar3(str) {
            if (!s) {
                return ' ';
            }
            if (s.length === 1) {
                return s;
            }
            for (let val of s) {
                if (s.indexOf(val) === s.lastIndexOf(val)) {
                    return val;
                }
            }
            return ' ';

        }
    </script>
</head>

<body>
    <!-- 
     题目描述：
    在一个字符串(0<=字符串长度<=10000，全部由字母组成)中找到第一个只出现一次的字符,并返回它的位置, 如果没有则返回 -1（需要区分大小写）.
    -->
</body>

</html>