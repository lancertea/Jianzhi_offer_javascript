<!-- author:lancer
     date:2019/12/24 -->
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>剑指offer-50.数组中重复的数字</title>
  <script>
    //测试用例
    let a = [2, 3, 1, 0, 2, 5, 3];
    let b = null;
    let c = [];
    let d = [1, 2, 3, 4, 5];
    let e = [];
    let f = [1, 9, 3, 3, 1];

    console.log(duplicate(a, e)); //true
    console.log(duplicate(b, e)); //false
    console.log(duplicate(c, e)); //false
    console.log(duplicate(d, e)); //false
    console.log(duplicate(f, e)); //false

    console.log(duplicate1(a, e));
    console.log(duplicate1(b, e));
    console.log(duplicate1(c, e));
    console.log(duplicate1(d, e));
    console.log(duplicate1(f, e));

    console.log(duplicate2(a, e));
    console.log(duplicate2(b, e));
    console.log(duplicate2(c, e));
    console.log(duplicate2(d, e));
    console.log(duplicate2(f, e));

    console.log(duplicate3(a, e));
    console.log(duplicate3(b, e));
    console.log(duplicate3(c, e));
    console.log(duplicate3(d, e));
    console.log(duplicate3(f, e));

    console.log(duplicate4(a, e));
    console.log(duplicate4(b, e));
    console.log(duplicate4(c, e));
    console.log(duplicate4(d, e));
    console.log(duplicate4(f, e));

    //参考代码：
    //解法一 直接求解  时间O(n*n)   空间O(1)
    function duplicate(numbers, duplication) {
      if (!numbers || numbers.length <= 1)
        return false;
      for (let i = 0; i < numbers.length; i++)
        if (numbers[i] < 0 || numbers[i] > numbers.length - 1)
          return false;

      for (let i = 0; i < numbers.length - 1; i++)
        for (let j = i + 1; j < numbers.length; j++)
          if (numbers[i] == numbers[j]) {
            duplication[0] = numbers[j];
            return true;
          }

      return false;
    }

    //解法二：排序后求解  时间O(n*logn)   空间O(1)
    function duplicate1(numbers, duplication) {
      if (!numbers || numbers.length <= 1)
        return false;

      for (let i = 0; i < numbers.length; i++)
        if (numbers[i] < 0 || numbers[i] > numbers.length - 1)
          return false;

      numbers = numbers.sort();
      for (let i = 0; i < numbers.length - 1; i++)
        if (numbers[i] == numbers[i + 1]) {
          duplication[0] = numbers[i];
          return true;
        }

      return false;
    }


    //解法三：哈希  时间O(n)   空间O(n)
    function duplicate2(numbers, duplication) {
      if (!numbers || numbers.length <= 1)
        return false;

      let d = [];
      for (let i = 0; i < numbers.length; i++)
        if (numbers[i] < 0 || numbers[i] > numbers.length - 1)
          return false;
        else d.push(0); //初始化数组

      for (let i = 0; i < numbers.length; i++)
        d[numbers[i]]++;

      for (let i = 0; i < numbers.length; i++)
        if (d[i] > 1) {
          duplication[0] = i;
          return true;
        }

      return false;
    }

    //解法四：改进哈希   用Set()或Map()
    function duplicate3(numbers, duplication) {
      if (!numbers || numbers.length <= 1)
        return false;
      for (let i = 0; i < numbers.length; i++)
        if (numbers[i] < 0 || numbers[i] > numbers.length - 1)
          return false;
      let m = new Set(); //new Map()
      for (let i = 0; i < numbers.length; i++) {
        if (m.has(numbers[i])) {
          duplication.push(numbers[i]);
          return true;
        } else
          m.add(numbers[i]); //m.set(numbers[i], 1);
      }
      return false;
    }


    //解法五：剑指offer上的做法：时间O(n)   空间O(1)
    function duplicate4(numbers, duplication) {
      if (!numbers || numbers.length <= 1)
        return false;

      for (let i = 0; i < numbers.length; i++)
        if (numbers[i] < 0 || numbers[i] > numbers.length - 1)
          return false;

      
      for (let i = 0; i < numbers.length; i++) {
        while (numbers[i] != i) {
          if (numbers[i] == numbers[numbers[i]]) {
            duplication[0] = numbers[i];
            return true;
          }
          [numbers[i],numbers[numbers[i]]]=[numbers[numbers[i]],numbers[i]];
        }
      }

      return false;
    }
  </script>
</head>

<body>
  <!-- 
     题目描述：
    在一个长度为n的数组里的所有数字都在0到n-1的范围内。 数组中某些数字是重复的，但不知道有几个数字是重复的。
    也不知道每个数字重复几次。请找出数组中任意一个重复的数字。 例如，如果输入长度为7的数组{2,3,1,0,2,5,3}，那么对应的输出是第一个重复的数字2。
    
    这里要特别注意~找到任意重复的一个值并赋值到duplication[0]
    函数返回True/False

     
     -->
</body>

</html>