<!-- author:lancer
     date:2019/12/24 -->
     <!DOCTYPE html>
     <html>
     <head>
     <meta charset="utf-8">
     <title>剑指offer-49.把字符串转换成整数</title>
     <script>



//测试用例
a="+2147483647"
b="+2147483648"
c="-2147483648"
d="la33"
e=''
f='123'
console.log(StrToInt(a));
console.log(StrToInt(b));
console.log(StrToInt(c));
console.log(StrToInt(d));
console.log(StrToInt(e));
console.log(StrToInt(f));
console.log(StrToInt1(a));
console.log(StrToInt1(b));
console.log(StrToInt1(c));
console.log(StrToInt1(d));
console.log(StrToInt1(e));
console.log(StrToInt1(f));

//解法一 用ascll码
function StrToInt(str)
{
  if(!str||str.length==0)
  return 0;
  let flag=0;
  if(str[0]==='-')
  flag=1;

  let sum=0;
  for(let i=flag; i<str.length; i++)
  {
      if(str[i]==='+')
      continue;
      if(str[i]<'0'||str[i]>'9')
      return 0;

      sum=sum*10+(str[i]-0);
  }
   if((flag===1)&&(sum>0x80000000)||(flag===0)&&(sum>0x7fffffff))
   return 0;
  return flag===1?sum*(-1):sum;
}

//解法二：用正则表达式

function StrToInt1(str)
{
  if(!str||str.length==0)
  return 0;

  if(str=='-0'||str=='+0')
  return 0;
  let reg=/^[\+\-]?[0-9]+$/;
  if(!reg.test(str))
  return 0;

  let flag=0,sum=0;
  if(str[0]==="-")
  flag=1;
  for(let i=0;i<str.length;i++)
  {if(str[i]==="+"||str[i]==="-")
  continue;
  sum=sum*10+(str[i]-0);
  }
  if((flag===1)&&(sum>0x80000000)||(flag===0)&&(sum>0x7fffffff))
   return 0;
  return flag===1?sum*(-1):sum;
}




     </script>
     </head>
     
     <body>
     <!-- 
     题目描述：
    将一个字符串转换成一个整数，要求不能使用字符串转换整数的库函数。 数值为0或者字符串不是一个合法的数值则返回0
    输入描述:
    输入一个字符串,包括数字字母符号,可以为空
    输出描述:
    如果是合法的数值表达则返回该数字，否则返回0
     
     
     
     -->
     </body> 
     
     </html>