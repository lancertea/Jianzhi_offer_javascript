<!-- author:lancer
     date:2019/12/20 -->
     <!DOCTYPE html>
     <html>
     <head>
     <meta charset="utf-8">
     <title>剑指offer-25.复杂链表的复制</title>
     <script>


function RandomListNode(x){
    this.label = x;
    this.next = null;
    this.random = null;
}

//测试用例：
let List1 = new RandomListNode('A'); 
let a1 = new RandomListNode('B');
List1.next = a1;
let b1 = new RandomListNode('C');
a1.next = b1;
let c1 = new RandomListNode('D'); 
b1.next = c1; 
let d1 = new RandomListNode('E'); 
c1.next = d1; 
List1.random=b1;
a1.random=d1;
c1.random=a1;
  


console.log(Clone(List1));
console.log(Clone1(List1));

//解法一
function Clone(pHead)
{
if(pHead==null) return null;
let currNode=pHead;
let node=0;
while(currNode)
{
  node =new RandomListNode(currNode.label);
  node.next=currNode.next;
  currNode.next=node;
  currNode=node.next;
}

currNode=pHead;
while(currNode)
{
  node=currNode.next;
  if(currNode.random)
  node.random=currNode.random.next;
  currNode=node.next;
}

currNode=pHead;
let pCloneHead=currNode.next;
let tmp=0;
while(currNode.next)
{
  tmp=currNode.next;
  currNode.next=tmp.next;
  currNode=tmp;
}

return pCloneHead;
}

//解法2
function Clone1(pHead)
{
if(pHead==null) return null;
let pcHead=new RandomListNode(pHead.label);
pcHead.random=pHead.random;
pcHead.next=Clone1(pHead.next);

return pcHead;
}

//解法3 如何用哈希表做呢

     </script>
     </head>
     
     <body>
     <!-- 
     题目描述：
   输入一个复杂链表（每个节点中有节点值，以及两个指针，一个指向下一个节点，另一个特殊指针指向任意一个节点），返回结果为复制后复杂链表的head。
   （注意，输出结果中请不要返回参数中的节点引用，否则判题程序会直接返回空
     
     
     
     -->
     </body> 
     
     </html>